<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS1.6 Mobile - Weapons</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto+Mono:wght@400;500;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #2F2F2F 0%, #556B2F 50%, #708090 100%);
            min-height: 100vh;
            color: #FFFFFF;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .page-title {
            font-family: 'Orbitron', monospace;
            font-size: clamp(2rem, 6vw, 3rem);
            font-weight: 900;
            color: #FF8C00;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            margin-bottom: 10px;
        }

        .subtitle {
            font-family: 'Roboto Mono', monospace;
            font-size: 1rem;
            color: #D2B48C;
            opacity: 0.8;
        }

        #navigation {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 100;
        }

        .nav-btn {
            background: rgba(85, 107, 47, 0.8);
            border: 1px solid #FF8C00;
            color: #FFFFFF;
            padding: 8px 16px;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.8rem;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: rgba(255, 140, 0, 0.8);
            transform: translateY(-1px);
        }

        .nav-btn.active {
            background: rgba(255, 140, 0, 0.8);
            border-color: #FFFFFF;
        }

        .weapons-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 80px;
        }

        .section {
            background: rgba(0,0,0,0.7);
            border: 2px solid #556B2F;
            border-radius: 12px;
            padding: 25px;
            backdrop-filter: blur(10px);
        }

        .section-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            color: #FF8C00;
            margin-bottom: 20px;
            text-align: center;
        }

        .weapon-categories {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .category-btn {
            background: rgba(85, 107, 47, 0.5);
            border: 1px solid #708090;
            color: #FFFFFF;
            padding: 8px 16px;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.8rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-btn:hover,
        .category-btn.active {
            background: rgba(255, 140, 0, 0.8);
            border-color: #FF8C00;
        }

        .weapon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
        }

        .weapon-card {
            background: rgba(47, 47, 47, 0.8);
            border: 2px solid #708090;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .weapon-card:hover {
            border-color: #FF8C00;
            background: rgba(255, 140, 0, 0.1);
            transform: translateY(-2px);
        }

        .weapon-card.selected {
            border-color: #00FF00;
            background: rgba(0, 255, 0, 0.1);
        }

        .weapon-image {
            width: 100%;
            height: 80px;
            object-fit: contain;
            margin-bottom: 10px;
            filter: drop-shadow(0 0 5px rgba(255, 140, 0, 0.3));
        }

        .weapon-name {
            font-family: 'Roboto Mono', monospace;
            font-weight: 700;
            font-size: 0.9rem;
            color: #FF8C00;
            margin-bottom: 5px;
        }

        .weapon-type {
            font-size: 0.7rem;
            color: #D2B48C;
            margin-bottom: 8px;
        }

        .weapon-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5px;
            font-size: 0.7rem;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            color: #FFFFFF;
        }

        .stat-label {
            color: #D2B48C;
        }

        .stat-value {
            font-weight: 600;
            color: #00FF00;
        }

        .loadout-section {
            grid-column: 1 / -1;
            margin-top: 20px;
        }

        .loadout-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .loadout-slot {
            background: rgba(47, 47, 47, 0.8);
            border: 2px solid #708090;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .loadout-title {
            font-family: 'Roboto Mono', monospace;
            font-weight: 700;
            color: #FF8C00;
            margin-bottom: 15px;
        }

        .selected-weapon {
            background: rgba(0, 255, 0, 0.1);
            border-color: #00FF00;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 10px;
        }

        .selected-weapon img {
            width: 60px;
            height: 40px;
            object-fit: contain;
            margin-bottom: 5px;
        }

        .selected-weapon-name {
            font-family: 'Roboto Mono', monospace;
            font-weight: 600;
            font-size: 0.8rem;
            color: #FFFFFF;
        }

        .empty-slot {
            color: #708090;
            font-style: italic;
            padding: 20px;
            border: 2px dashed #708090;
            border-radius: 6px;
        }

        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .equipment-item {
            background: rgba(47, 47, 47, 0.8);
            border: 2px solid #708090;
            border-radius: 6px;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .equipment-item:hover {
            border-color: #FF8C00;
            background: rgba(255, 140, 0, 0.1);
        }

        .equipment-item.selected {
            border-color: #00FF00;
            background: rgba(0, 255, 0, 0.1);
        }

        .equipment-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .equipment-name {
            font-family: 'Roboto Mono', monospace;
            font-size: 0.7rem;
            color: #FFFFFF;
        }

        .equipment-price {
            font-size: 0.6rem;
            color: #D2B48C;
        }

        .weapon-details {
            grid-column: 1 / -1;
            margin-top: 20px;
        }

        .weapon-preview {
            display: flex;
            gap: 30px;
            align-items: center;
            margin-bottom: 20px;
        }

        .preview-image {
            width: 200px;
            height: 120px;
            object-fit: contain;
            filter: drop-shadow(0 0 10px rgba(255, 140, 0, 0.5));
        }

        .preview-stats {
            flex: 1;
        }

        .preview-name {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            color: #FF8C00;
            margin-bottom: 10px;
        }

        .stat-bar {
            margin-bottom: 10px;
        }

        .stat-bar-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3px;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.8rem;
        }

        .stat-bar-fill {
            height: 8px;
            background: rgba(255, 140, 0, 0.3);
            border-radius: 4px;
            overflow: hidden;
        }

        .stat-bar-progress {
            height: 100%;
            background: linear-gradient(90deg, #FF8C00, #00FF00);
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .weapon-description {
            background: rgba(47, 47, 47, 0.5);
            padding: 15px;
            border-radius: 6px;
            font-size: 0.9rem;
            line-height: 1.4;
            color: #D2B48C;
            margin-top: 15px;
        }

        .buy-menu-simulation {
            background: rgba(0,0,0,0.8);
            border: 2px solid #556B2F;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }

        .buy-menu-title {
            font-family: 'Orbitron', monospace;
            color: #FF8C00;
            text-align: center;
            margin-bottom: 15px;
        }

        .money-display {
            text-align: center;
            font-family: 'Roboto Mono', monospace;
            font-size: 1.2rem;
            color: #00FF00;
            margin-bottom: 15px;
        }

        .btn {
            background: linear-gradient(135deg, #556B2F, #708090);
            border: 2px solid #FF8C00;
            color: #FFFFFF;
            padding: 10px 20px;
            font-family: 'Roboto Mono', monospace;
            font-weight: 700;
            font-size: 0.8rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 10px;
        }

        .btn:hover {
            background: linear-gradient(135deg, #708090, #556B2F);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(255, 140, 0, 0.3);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        @media (max-width: 768px) {
            .weapons-container {
                grid-template-columns: 1fr;
                gap: 20px;
                margin-top: 60px;
            }
            
            .container {
                padding: 15px;
            }
            
            .section {
                padding: 20px;
            }
            
            .weapon-preview {
                flex-direction: column;
                text-align: center;
            }
            
            .preview-image {
                width: 150px;
                height: 100px;
            }
            
            #navigation {
                top: 10px;
                gap: 5px;
            }
            
            .nav-btn {
                padding: 6px 12px;
                font-size: 0.7rem;
            }
        }
    </style>
</head>
<body>
    <div id="navigation">
        <a href="index.html" class="nav-btn">GAME</a>
        <a href="multiplayer.html" class="nav-btn">MULTIPLAYER</a>
        <a href="weapons.html" class="nav-btn active">WEAPONS</a>
        <a href="settings.html" class="nav-btn">SETTINGS</a>
    </div>

    <div class="container">
        <div class="header">
            <h1 class="page-title">WEAPONS ARSENAL</h1>
            <p class="subtitle">Customize your loadout with authentic CS1.6 weapons</p>
        </div>

        <div class="weapons-container">
            <!-- Weapons Selection -->
            <div class="section">
                <h2 class="section-title">Weapon Categories</h2>
                
                <div class="weapon-categories">
                    <button class="category-btn active" data-category="rifles">Rifles</button>
                    <button class="category-btn" data-category="pistols">Pistols</button>
                    <button class="category-btn" data-category="smgs">SMGs</button>
                    <button class="category-btn" data-category="snipers">Sniper Rifles</button>
                    <button class="category-btn" data-category="heavy">Heavy</button>
                    <button class="category-btn" data-category="equipment">Equipment</button>
                </div>

                <div class="weapon-grid" id="weaponGrid">
                    <!-- Weapons will be populated here -->
                </div>
            </div>

            <!-- Loadout Configuration -->
            <div class="section">
                <h2 class="section-title">Current Loadout</h2>
                
                <div class="loadout-container">
                    <div class="loadout-slot">
                        <div class="loadout-title">PRIMARY WEAPON</div>
                        <div class="selected-weapon" id="primaryWeapon">
                            <img src="./resources/weapon-ak47.png" alt="AK-47">
                            <div class="selected-weapon-name">AK-47</div>
                        </div>
                    </div>

                    <div class="loadout-slot">
                        <div class="loadout-title">SECONDARY WEAPON</div>
                        <div class="selected-weapon" id="secondaryWeapon">
                            <img src="./resources/weapon-deagle.png" alt="Desert Eagle">
                            <div class="selected-weapon-name">Desert Eagle</div>
                        </div>
                    </div>
                </div>

                <div class="equipment-grid">
                    <div class="equipment-item selected" data-equipment="armor">
                        <div class="equipment-icon">üõ°Ô∏è</div>
                        <div class="equipment-name">Kevlar</div>
                        <div class="equipment-price">$650</div>
                    </div>

                    <div class="equipment-item selected" data-equipment="helmet">
                        <div class="equipment-icon">‚õëÔ∏è</div>
                        <div class="equipment-name">Helmet</div>
                        <div class="equipment-price">$350</div>
                    </div>

                    <div class="equipment-item" data-equipment="flash">
                        <div class="equipment-icon">üí•</div>
                        <div class="equipment-name">Flashbang</div>
                        <div class="equipment-price">$200</div>
                    </div>

                    <div class="equipment-item selected" data-equipment="hegrenade">
                        <div class="equipment-icon">üí£</div>
                        <div class="equipment-name">HE Grenade</div>
                        <div class="equipment-price">$300</div>
                    </div>

                    <div class="equipment-item" data-equipment="smoke">
                        <div class="equipment-icon">üå´Ô∏è</div>
                        <div class="equipment-name">Smoke</div>
                        <div class="equipment-price">$300</div>
                    </div>

                    <div class="equipment-item" data-equipment="defuse">
                        <div class="equipment-icon">‚úÇÔ∏è</div>
                        <div class="equipment-name">Defuse Kit</div>
                        <div class="equipment-price">$400</div>
                    </div>
                </div>

                <div class="buy-menu-simulation">
                    <div class="buy-menu-title">BUY MENU SIMULATION</div>
                    <div class="money-display">$800</div>
                    <div style="text-align: center; font-size: 0.8rem; color: #D2B48C; margin-bottom: 15px;">
                        Total Cost: <span id="totalCost" style="color: #FF8C00;">$1600</span>
                    </div>
                    <button class="btn" onclick="simulateBuy()">PURCHASE LOADOUT</button>
                </div>
            </div>
        </div>

        <!-- Weapon Details -->
        <div class="section weapon-details">
            <h2 class="section-title">Weapon Details</h2>
            <div class="weapon-preview">
                <img src="./resources/weapon-ak47.png" alt="AK-47" class="preview-image" id="previewImage">
                <div class="preview-stats">
                    <div class="preview-name" id="previewName">AK-47</div>
                    
                    <div class="stat-bar">
                        <div class="stat-bar-label">
                            <span>Damage</span>
                            <span id="damageValue">85</span>
                        </div>
                        <div class="stat-bar-fill">
                            <div class="stat-bar-progress" id="damageBar" style="width: 85%;"></div>
                        </div>
                    </div>

                    <div class="stat-bar">
                        <div class="stat-bar-label">
                            <span>Accuracy</span>
                            <span id="accuracyValue">72</span>
                        </div>
                        <div class="stat-bar-fill">
                            <div class="stat-bar-progress" id="accuracyBar" style="width: 72%;"></div>
                        </div>
                    </div>

                    <div class="stat-bar">
                        <div class="stat-bar-label">
                            <span>Rate of Fire</span>
                            <span id="rateOfFireValue">60</span>
                        </div>
                        <div class="stat-bar-fill">
                            <div class="stat-bar-progress" id="rateOfFireBar" style="width: 60%;"></div>
                        </div>
                    </div>

                    <div class="stat-bar">
                        <div class="stat-bar-label">
                            <span>Recoil Control</span>
                            <span id="recoilValue">45</span>
                        </div>
                        <div class="stat-bar-fill">
                            <div class="stat-bar-progress" id="recoilBar" style="width: 45%;"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="weapon-description" id="weaponDescription">
                The AK-47 is a powerful assault rifle favored by Terrorists. Known for its high damage and one-shot headshot capability, it's the most iconic weapon in Counter-Strike. High recoil requires skill to master, but rewards precise players with devastating results.
            </div>
        </div>
    </div>

    <script>
        // Weapon Database
        const weapons = {
            rifles: [
                {
                    name: 'AK-47',
                    type: 'Assault Rifle',
                    image: './resources/weapon-ak47.png',
                    damage: 85,
                    accuracy: 72,
                    rateOfFire: 60,
                    recoil: 45,
                    price: 2500,
                    description: 'The AK-47 is a powerful assault rifle favored by Terrorists. Known for its high damage and one-shot headshot capability, it\'s the most iconic weapon in Counter-Strike. High recoil requires skill to master, but rewards precise players with devastating results.'
                },
                {
                    name: 'M4A1',
                    type: 'Assault Rifle',
                    image: './resources/weapon-m4a1.png',
                    damage: 70,
                    accuracy: 85,
                    rateOfFire: 75,
                    recoil: 70,
                    price: 3100,
                    description: 'The M4A1 is the Counter-Terrorist counterpart to the AK-47. Features lower recoil, higher accuracy, and comes with a silencer. While it lacks the one-shot headshot capability against helmets, its precision makes it excellent for controlled engagements.'
                },
                {
                    name: 'FAMAS',
                    type: 'Assault Rifle',
                    image: './resources/weapon-m4a1.png',
                    damage: 60,
                    accuracy: 78,
                    rateOfFire: 80,
                    recoil: 65,
                    price: 2250,
                    description: 'The FAMAS is a budget rifle for Counter-Terrorists. Offers burst-fire mode for increased accuracy at range. Less powerful than the M4A1 but more affordable, making it a solid choice for eco rounds.'
                },
                {
                    name: 'Galil',
                    type: 'Assault Rifle',
                    image: './resources/weapon-ak47.png',
                    damage: 65,
                    accuracy: 70,
                    rateOfFire: 85,
                    recoil: 55,
                    price: 2000,
                    description: 'The Galil is the Terrorist budget rifle. Reliable and affordable with a high rate of fire. While less accurate than the AK-47, its lower cost makes it perfect for force buys and eco rounds.'
                }
            ],
            pistols: [
                {
                    name: 'Desert Eagle',
                    type: 'Pistol',
                    image: './resources/weapon-deagle.png',
                    damage: 95,
                    accuracy: 85,
                    rateOfFire: 25,
                    recoil: 30,
                    price: 700,
                    description: 'The Desert Eagle is a high-caliber pistol known for its incredible stopping power. Capable of one-shot headshots even through helmets, it\'s the ultimate eco round weapon for skilled players.'
                },
                {
                    name: 'Glock-18',
                    type: 'Pistol',
                    image: './resources/weapon-deagle.png',
                    damage: 45,
                    accuracy: 60,
                    rateOfFire: 90,
                    recoil: 40,
                    price: 0,
                    description: 'The Glock-18 is the Terrorist default pistol. Features a three-round burst mode for close encounters. While individually weak, the burst mode can overwhelm enemies at close range.'
                },
                {
                    name: 'USP Tactical',
                    type: 'Pistol',
                    image: './resources/weapon-deagle.png',
                    damage: 50,
                    accuracy: 80,
                    rateOfFire: 70,
                    recoil: 75,
                    price: 0,
                    description: 'The USP Tactical is the Counter-Terrorist default pistol. Comes with a silencer for stealthy engagements. High accuracy and manageable recoil make it effective for precise shots.'
                },
                {
                    name: 'P228',
                    type: 'Pistol',
                    image: './resources/weapon-deagle.png',
                    damage: 55,
                    accuracy: 65,
                    rateOfFire: 75,
                    recoil: 60,
                    price: 600,
                    description: 'The P228 offers balanced performance as a mid-tier pistol. Good accuracy and damage make it a reliable backup weapon or eco round choice.'
                }
            ],
            snipers: [
                {
                    name: 'AWP',
                    type: 'Sniper Rifle',
                    image: './resources/weapon-awp.png',
                    damage: 100,
                    accuracy: 95,
                    rateOfFire: 15,
                    recoil: 20,
                    price: 4750,
                    description: 'The AWP is the ultimate sniper rifle. One-shot kill to any body part except legs. Slow rate of fire and high cost are balanced by its game-changing potential in skilled hands.'
                },
                {
                    name: 'Scout',
                    type: 'Sniper Rifle',
                    image: './resources/weapon-awp.png',
                    damage: 75,
                    accuracy: 90,
                    rateOfFire: 40,
                    recoil: 50,
                    price: 2750,
                    description: 'The Scout is a lightweight sniper rifle. Less powerful than the AWP but significantly cheaper and more mobile. Requires headshots for one-shot kills but allows for faster repositioning.'
                }
            ],
            smgs: [
                {
                    name: 'MP5',
                    type: 'SMG',
                    image: './resources/weapon-m4a1.png',
                    damage: 40,
                    accuracy: 70,
                    rateOfFire: 85,
                    recoil: 75,
                    price: 1500,
                    description: 'The MP5 is a reliable SMG with balanced stats. Good accuracy and manageable recoil make it effective in close to medium range engagements.'
                },
                {
                    name: 'UMP45',
                    type: 'SMG',
                    image: './resources/weapon-m4a1.png',
                    damage: 45,
                    accuracy: 65,
                    rateOfFire: 70,
                    recoil: 80,
                    price: 1200,
                    description: 'The UMP45 offers higher damage than most SMGs with good armor penetration. Slower rate of fire but more stopping power per shot.'
                }
            ],
            heavy: [
                {
                    name: 'M249',
                    type: 'Machine Gun',
                    image: './resources/weapon-m4a1.png',
                    damage: 80,
                    accuracy: 45,
                    rateOfFire: 95,
                    recoil: 25,
                    price: 5750,
                    description: 'The M249 is a powerful machine gun with massive ammo capacity. High damage and rate of fire are offset by extreme recoil and high cost. Best used for suppressive fire.'
                }
            ]
        };

        // Current Selection
        let currentSelection = {
            category: 'rifles',
            primary: weapons.rifles[0],
            secondary: weapons.pistols[0],
            equipment: ['armor', 'helmet', 'hegrenade']
        };

        // Initialize
        function initWeapons() {
            populateWeaponGrid('rifles');
            updateLoadoutDisplay();
            updateWeaponDetails(weapons.rifles[0]);
            setupEventListeners();
        }

        // Populate Weapon Grid
        function populateWeaponGrid(category) {
            const grid = document.getElementById('weaponGrid');
            grid.innerHTML = '';

            const categoryWeapons = weapons[category] || [];
            
            categoryWeapons.forEach((weapon, index) => {
                const weaponCard = document.createElement('div');
                weaponCard.className = 'weapon-card';
                weaponCard.onclick = () => selectWeapon(category, index);

                weaponCard.innerHTML = `
                    <img src="${weapon.image}" alt="${weapon.name}" class="weapon-image">
                    <div class="weapon-name">${weapon.name}</div>
                    <div class="weapon-type">${weapon.type}</div>
                    <div class="weapon-stats">
                        <div class="stat-row">
                            <span class="stat-label">Damage:</span>
                            <span class="stat-value">${weapon.damage}</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Accuracy:</span>
                            <span class="stat-value">${weapon.accuracy}</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Price:</span>
                            <span class="stat-value">$${weapon.price}</span>
                        </div>
                    </div>
                `;

                grid.appendChild(weaponCard);
            });

            // Animate cards
            anime({
                targets: '.weapon-card',
                opacity: [0, 1],
                translateY: [20, 0],
                delay: anime.stagger(50),
                duration: 500,
                easing: 'easeOutQuad'
            });
        }

        // Select Weapon
        function selectWeapon(category, index) {
            const weapon = weapons[category][index];
            
            // Update selection
            document.querySelectorAll('.weapon-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.querySelectorAll('.weapon-card')[index].classList.add('selected');
            
            // Update weapon details
            updateWeaponDetails(weapon);
            
            // Auto-assign to appropriate slot
            if (category === 'rifles' || category === 'snipers' || category === 'smgs' || category === 'heavy') {
                currentSelection.primary = weapon;
                updateLoadoutDisplay();
                
                // Animation
                anime({
                    targets: '#primaryWeapon',
                    scale: [1, 1.1, 1],
                    duration: 500,
                    easing: 'easeInOutQuad'
                });
            } else if (category === 'pistols') {
                currentSelection.secondary = weapon;
                updateLoadoutDisplay();
                
                // Animation
                anime({
                    targets: '#secondaryWeapon',
                    scale: [1, 1.1, 1],
                    duration: 500,
                    easing: 'easeInOutQuad'
                });
            }
        }

        // Update Weapon Details
        function updateWeaponDetails(weapon) {
            document.getElementById('previewImage').src = weapon.image;
            document.getElementById('previewName').textContent = weapon.name;
            document.getElementById('weaponDescription').textContent = weapon.description;
            
            // Update stat bars
            updateStatBar('damage', weapon.damage);
            updateStatBar('accuracy', weapon.accuracy);
            updateStatBar('rateOfFire', weapon.rateOfFire);
            updateStatBar('recoil', weapon.recoil);
            
            // Animate stat bars
            anime({
                targets: '.stat-bar-progress',
                width: (value) => value + '%',
                duration: 800,
                easing: 'easeOutQuad',
                delay: anime.stagger(100)
            });
        }

        // Update Stat Bar
        function updateStatBar(statName, value) {
            document.getElementById(statName + 'Value').textContent = value;
            document.getElementById(statName + 'Bar').style.width = value + '%';
        }

        // Update Loadout Display
        function updateLoadoutDisplay() {
            // Update primary weapon
            const primarySlot = document.getElementById('primaryWeapon');
            primarySlot.innerHTML = `
                <img src="${currentSelection.primary.image}" alt="${currentSelection.primary.name}">
                <div class="selected-weapon-name">${currentSelection.primary.name}</div>
            `;
            
            // Update secondary weapon
            const secondarySlot = document.getElementById('secondaryWeapon');
            secondarySlot.innerHTML = `
                <img src="${currentSelection.secondary.image}" alt="${currentSelection.secondary.name}">
                <div class="selected-weapon-name">${currentSelection.secondary.name}</div>
            `;
            
            // Update total cost
            updateTotalCost();
        }

        // Update Total Cost
        function updateTotalCost() {
            let total = currentSelection.primary.price + currentSelection.secondary.price;
            
            // Add equipment costs
            const equipmentPrices = {
                'armor': 650,
                'helmet': 350,
                'flash': 200,
                'hegrenade': 300,
                'smoke': 300,
                'defuse': 400
            };
            
            currentSelection.equipment.forEach(item => {
                total += equipmentPrices[item] || 0;
            });
            
            document.getElementById('totalCost').textContent = `$${total}`;
        }

        // Toggle Equipment
        function toggleEquipment(equipmentType) {
            const element = document.querySelector(`[data-equipment="${equipmentType}"]`);
            const isSelected = currentSelection.equipment.includes(equipmentType);
            
            if (isSelected) {
                currentSelection.equipment = currentSelection.equipment.filter(item => item !== equipmentType);
                element.classList.remove('selected');
            } else {
                currentSelection.equipment.push(equipmentType);
                element.classList.add('selected');
            }
            
            updateTotalCost();
            
            // Animation
            anime({
                targets: element,
                scale: [1, 1.1, 1],
                duration: 300,
                easing: 'easeInOutQuad'
            });
        }

        // Simulate Buy
        function simulateBuy() {
            const totalCost = parseInt(document.getElementById('totalCost').textContent.replace('$', ''));
            const currentMoney = 800; // Starting money
            
            if (totalCost <= currentMoney) {
                // Success animation
                anime({
                    targets: '.buy-menu-simulation',
                    backgroundColor: ['rgba(0,0,0,0.8)', 'rgba(0, 255, 0, 0.2)', 'rgba(0,0,0,0.8)'],
                    duration: 1000,
                    easing: 'easeInOutQuad'
                });
                
                // Show success message
                const btn = document.querySelector('.buy-menu-simulation .btn');
                const originalText = btn.textContent;
                btn.textContent = 'PURCHASED!';
                btn.style.background = 'linear-gradient(135deg, #00FF00, #32CD32)';
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = 'linear-gradient(135deg, #556B2F, #708090)';
                }, 2000);
                
                // Update money display
                const moneyDisplay = document.querySelector('.money-display');
                moneyDisplay.textContent = `$${currentMoney - totalCost}`;
                moneyDisplay.style.color = '#FF8C00';
            } else {
                // Insufficient funds animation
                anime({
                    targets: '.buy-menu-simulation',
                    backgroundColor: ['rgba(0,0,0,0.8)', 'rgba(255, 0, 0, 0.2)', 'rgba(0,0,0,0.8)'],
                    duration: 500,
                    easing: 'easeInOutQuad'
                });
                
                // Show error
                const btn = document.querySelector('.buy-menu-simulation .btn');
                const originalText = btn.textContent;
                btn.textContent = 'INSUFFICIENT FUNDS';
                btn.style.background = 'linear-gradient(135deg, #FF0000, #FF6B6B)';
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = 'linear-gradient(135deg, #556B2F, #708090)';
                }, 2000);
            }
        }

        // Setup Event Listeners
        function setupEventListeners() {
            // Category buttons
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    const category = btn.dataset.category;
                    currentSelection.category = category;
                    populateWeaponGrid(category);
                });
            });

            // Equipment items
            document.querySelectorAll('.equipment-item').forEach(item => {
                item.addEventListener('click', () => {
                    const equipmentType = item.dataset.equipment;
                    toggleEquipment(equipmentType);
                });
            });
        }

        // Initialize on load
        window.addEventListener('load', () => {
            initWeapons();
            
            // Add some initial animations
            setTimeout(() => {
                anime({
                    targets: '.section',
                    opacity: [0, 1],
                    translateY: [30, 0],
                    delay: anime.stagger(200),
                    duration: 800,
                    easing: 'easeOutQuad'
                });
            }, 100);
        });
    </script>
</body>
</html>